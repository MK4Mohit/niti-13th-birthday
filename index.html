<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Hogwarts Birthday Invitation</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Eagle+Lake&family=Parisienne&display=swap" rel="stylesheet">

<style>
:root{
    --gold:#D4AF37;
    --parchment:#f4e4bc;
    --red:#740001;
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}

body{
    margin:0;
    min-height:100vh;
    background:radial-gradient(circle,#222,#000);
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Eagle Lake',serif;
    overflow:hidden;
    padding:10px;
}

.step{
    display:none;
    flex-direction:column;
    align-items:center;
    text-align:center;
    width:100%;
}
.step.active{display:flex;animation:fade .8s ease}

/* ENVELOPE */
.envelope{
    width:min(220px,80vw);
    height:140px;
    background:var(--parchment);
    border:2px solid #bfa76a;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    box-shadow:0 0 40px rgba(212,175,55,.7);
    animation:spiralFly 5.2s cubic-bezier(.25,.8,.3,1) forwards;
}
.seal{
    width:52px;height:52px;border-radius:50%;
    background:#8b0000;color:var(--gold);
    display:flex;justify-content:center;align-items:center;
    font-family:'Cinzel Decorative';font-size:24px;
}

/* LETTER */
.letter{
    background:var(--parchment);
    padding:25px;
    width:100%;max-width:520px;
    box-shadow:0 0 40px rgba(0,0,0,.8);
    color:#2b1e16;
    font-size:.95rem;
}

/* CAKE */
.cake-wrap{position:relative;margin-top:20px}
.cake{width:200px;height:110px;background:#6b3e26;border-radius:16px 16px 8px 8px;position:relative}
.icing{height:32px;background:#ffb7c5;border-radius:16px 16px 12px 12px}
.candle{
    position:absolute;top:-50px;left:50%;
    transform:translateX(-50%);
    width:12px;height:50px;
    background:linear-gradient(#fff,var(--gold));
    cursor:pointer;
}
.flame{
    position:absolute;top:-24px;left:50%;
    transform:translateX(-50%);
    width:15px;height:24px;
    background:radial-gradient(circle,#fff,orange,red);
    border-radius:50% 50% 35% 35%;
    animation:flicker .15s infinite alternate;
}
.cake-text{
    position:absolute;
    width:100%;
    text-align:center;
    top:55%;
    transform:translateY(-50%);
    font-family:'Cinzel Decorative';
    font-size:1.1rem;
    color:#fff5dc;
    text-shadow:0 0 6px rgba(0,0,0,.6);
    letter-spacing:1px;
}

/* STEP 4 */
#s4{
    position:relative;
    padding:20px;
    overflow:hidden;
}
#s4::before{
    content:"";
    position:absolute;inset:0;
    background:
        radial-gradient(circle at top,rgba(255,183,197,.25),transparent 60%),
        linear-gradient(135deg,#2b0012,#000);
    z-index:-2;
}

.romantic-glow{
    position:absolute;
    width:10px;height:10px;
    background:radial-gradient(circle,#fff,var(--gold));
    border-radius:50%;
    animation:float 8s linear infinite;
    opacity:.7;z-index:-1;
}

.secret{
    font-family:'Parisienne';
    font-size:clamp(1.8rem,5vw,2.4rem);
    color:var(--parchment);
    max-width:90%;
    line-height:1.3;
    animation:heartbeat 2.8s ease-in-out infinite;
}

.line{
    opacity:0;
    display:inline-block;
    animation:reveal 1.2s ease forwards;
}
.line:nth-child(1){animation-delay:.5s}
.line:nth-child(2){animation-delay:1.4s}
.line:nth-child(4){animation-delay:2.6s}
.line:nth-child(5){animation-delay:3.5s}
.line:nth-child(7){animation-delay:4.8s}
.line:nth-child(8){animation-delay:5.7s}
.line:nth-child(10){animation-delay:7s}
.line:nth-child(11){animation-delay:7.9s}

.name-reveal{
    font-family:'Cinzel Decorative';
    font-size:2.4rem;
    color:var(--gold);
    margin-top:15px;
    opacity:0;
    animation:nameGlow 2.5s ease forwards;
    animation-delay:9s;
}

/* BUTTON */
button{
    margin-top:20px;
    padding:12px 26px;
    background:var(--red);
    color:var(--gold);
    border:2px solid var(--gold);
    font-family:'Cinzel Decorative';
    font-size:.9rem;
}

/* SPARKLES */
.sparkle{
    position:absolute;
    width:4px; height:4px;
    background:radial-gradient(circle,#fff,var(--gold));
    border-radius:50%;
    opacity:.8;
    pointer-events:none;
    animation:rise 1.2s linear forwards;
}

/* ANIMATIONS */
@keyframes spiralFly{
    0%{transform:translate(-120vw,-50vh) rotate(0deg) scale(.4)}
    25%{transform:translate(-40vw,30vh) rotate(540deg) scale(.7)}
    55%{transform:translate(35vw,-25vh) rotate(1080deg) scale(.9)}
    100%{transform:translate(0,0) rotate(1800deg)}
}
@keyframes flicker{from{transform:translateX(-50%) scale(1)}to{transform:translateX(-50%) scale(1.15)}}
@keyframes fade{from{opacity:0}to{opacity:1}}
@keyframes reveal{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}
@keyframes float{from{transform:translateY(0)}to{transform:translateY(-120vh)}}
@keyframes heartbeat{
    0%,100%{text-shadow:0 0 10px rgba(212,175,55,.2)}
    50%{text-shadow:0 0 28px rgba(212,175,55,.6)}
}
@keyframes nameGlow{
    from{opacity:0;letter-spacing:8px}
    to{opacity:1;letter-spacing:2px}
}
@keyframes rise{
    0% {transform:translateY(0) scale(1); opacity:1;}
    100% {transform:translateY(-30px) scale(0.3); opacity:0;}
}
</style>
</head>

<body>

<audio id="bgm" loop>
<source src="https://cdn.pixabay.com/audio/2023/03/14/audio_1c3f3a4f67.mp3" type="audio/mpeg">
</audio>

<!-- STEP 1 -->
<div class="step active" id="s1">
    <div class="envelope" onclick="start()">
        <div class="seal">H</div>
    </div>
    <p style="color:#aaa;font-size:.9rem">A magical letter arrives for Niti</p>
</div>

<!-- STEP 2 -->
<div class="step" id="s2">
    <div class="letter">
        <h2 style="font-family:'Cinzel Decorative'">HOGWARTS SCHOOL</h2>
        <p>Dear <strong>Niti</strong>,</p>
        <p>Some invitations are written in ink.<br>This one is written in destiny.</p>
        <p>On a night when the stars lean closer<br>and the castle listens in silence,<br>
        Hogwarts opens its doors for <strong>you alone</strong>.</p>
        <p><em>Yours, in magic and mystery</em><br>Professor McGonagall</p>
    </div>
    <button onclick="go(3)">Continue</button>
</div>

<!-- STEP 3 -->
<div class="step" id="s3">
    <div class="cake-wrap">
        <div class="cake">
            <div class="icing"></div>
            <div class="cake-text">13th Birthday</div>
        </div>
        <div class="candle" onclick="blow()">
            <div class="flame" id="flame"></div>
        </div>
    </div>
    <p style="color:var(--gold)">Tap the candle</p>
</div>

<!-- STEP 4 -->
<div class="step" id="s4">
    <div class="secret">
        <span class="line">Some letters arrive by owl.</span><br>
        <span class="line">Some arrive by fate.</span><br><br>
        <span class="line">This one carries what was never said,</span><br>
        <span class="line">what stayed quiet between moments.</span><br><br>
        <span class="line">Somewhere between laughter and silence,</span><br>
        <span class="line">you became someone unforgettable.</span><br><br>
        <span class="line">It is not just a birthday wish.</span><br>
        <span class="line">It is a confession, wrapped in magic.</span>
    </div>
    <div class="name-reveal">Niti</div>
    <p style="color:#aaa;font-style:italic;margin-top:5px">â€” MK4</p>
</div>

<script>
let sparkleInterval;

function start(){
    playMusic();
    go(2);
}

function playMusic(){
    const bgm = document.getElementById('bgm');
    bgm.volume = 0.5;
    const promise = bgm.play();
    if(promise !== undefined){
        promise.then(()=>console.log('Music started'))
        .catch(()=>console.log('Tap the envelope to start music'));
    }
}

function go(n){
    document.querySelectorAll('.step').forEach(s=>s.classList.remove('active'));
    document.getElementById('s'+n).classList.add('active');
    if(n===3) startSparkles();
    if(n===4) romanticGlow();
}

function startSparkles() {
    const candle = document.querySelector('.candle');
    sparkleInterval = setInterval(()=>{
        const s = document.createElement('div');
        s.className='sparkle';
        s.style.left = (Math.random()*12-6)+'px';
        s.style.bottom = '0px';
        candle.appendChild(s);
        setTimeout(()=>s.remove(),1200);
    }, 120);
}

function blow(){
    document.getElementById('flame').style.display='none';
    clearInterval(sparkleInterval);
    const candle = document.querySelector('.candle');
    candle.querySelectorAll('.sparkle').forEach(s=>s.remove());
    setTimeout(()=>go(4),700);
}

function romanticGlow(){
    const container = document.getElementById('s4');
    for(let i=0;i<20;i++){
        const g=document.createElement('div');
        g.className='romantic-glow';
        g.style.left=Math.random()*100+'%';
        g.style.bottom='-20px';
        g.style.animationDuration=6+Math.random()*6+'s';
        container.appendChild(g);
    }
}
</script>

</body>
</html>
